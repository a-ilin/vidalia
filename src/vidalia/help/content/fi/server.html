<!--
**  $Id$
** 
**  This file is part of Vidalia, and is subject to the license terms in the
**  LICENSE file, found in the top level directory of this distribution. If 
**  you did not receive the LICENSE file with this file, you may obtain it
**  from the Vidalia source package distributed by the Vidalia Project at
**  http://www.vidalia-project.net/. No part of Vidalia, including this file,
**  may be copied, modified, propagated, or distributed except according to
**  the terms described in the LICENSE file.
-->

<html>
<body>

<h1>Reitittimen asentaminen</h1>
<hr />

Tor-verkko koostuu vapaaehtoisten jakaamasta yhteyskaistasta Tor-reitittiminä (pieninä palvelimina). Vidalia tarjoaa helpon keinon pystyttää oma reititin.

<a name="basic"/>
<h3>Yleiset-asetukset</h3>
<p>
Jos on kiinnostusta auttaa Tor-verkon toimintaa ylläpitämällä omaa reititintä, niin seuraavilla ohjeilla on mahdollista yksinkertaisesti pystyttää oma Tor-reititin:
</p>
<ol>
  <li>
    Avaa <i>Asetukset-ikkuna</i> valitsemalla <i>Asetukset</i> tehtäväpalkista Vidalian valikosta tai <i>Asetukset</i> järjestelmän valikosta Macintosh-järjestelmissä.
  </li>
  <li>Valitse <i>Reititin</i>-asetussivu.</li>
  <li>Tor-ohjelmaa voidaan suorittaa joko normaalina reitittimenä tai <i>silta</i>reitittimenä (Tor 0.2.0.8-alpha tai uudempi). Siltareitittimet auttavat sensuroituja Tor-käyttäjiä, jotka eivät pysty suoraan käyttämään Tor-verkkoa.
    Rasita ruutu <i>Välitä tietoa Tor-verkossa</i>, jos haluat suorittaa normaalia Tor-reitintä tai auttaa <i>Auta sensuroituja käyttäjiä pääsemään Tor-verkkoon</i>, jos haluat suorittaa Tor-reititinsiltaa.
</li>
  <li>Aseta seuraavat tiedot:
    <ul>
      <li><b>Nimi</b>:
        Nimi, jolla reititin voidaan tunnistaa Tor-verkossa. Esimerkiksi "MinunVidaliareititin".
      </li>
      <li><b>Yhteystiedot</b>:
        Sähköpostiosoitteesi, jolla voidaan ottaa yhteyttä vakavan Tor-ohjelman tietoturvapäivityksen tai reititinvian vuoksi. Oman PGP- tai GPG-tunnuksen ja sormenjäljen voi myös sisällyttää.
      </li>
      <li><b>Reititinportti</b>:
        Portti, jolla reititin vastaanottaa liikennettä käyttäjiltä ja muilta Tor-reitittimiltä.
      </li>
      <li><b>Osoite</b>:
        Aseta osoite, jolla muut Tor-reititin voivat tavoittaa tietokoneesi Internetin kautta. Jos ei omaa julkista IP-osoitetta tiedä, niin painamalla <i>Nouda osoite</i> Vidalia ottaa yhteyden ulkoiseen sivustoon (esim. <i>http://www.vidalia-project.net/iptest/ip.php</i>) selvittääkseen koneen julkisen IP-osoitteen.
      </li>
    </ul>
  <li>
    Jos haluat välittää listaa verkossa olevista Tor-reitittimistä, niin rastita ruutu <i>Välitä Tor-reititinlistaa</i>.
     Jos yhteys on hidas, niin ei välttämättä ole kannattavaa rastittaa ruutua. Jos haluaa välittää listaa Tor-reitittimistä, niin varmista että <i>lista-portti</i> on eri kuin <i>reititinportti</i>.
  </li>
</ol>

<a name="bandwidth"/>
<h3>Nopeudenrajoittaminen</h3>
<p>
Tor-reitittimen ylläpito kuluttaa paljon yhteyskaistaa, jonka vuoksi Tor sallii käytettävän yhteyskaistamäärän rajoittamisen Tor-reitittimille. Reititintä voi pitää päällä samalla kun yhteyttä käytetään muihin tarkoituksiin.
</p>
<p>
Valikosta kannattaa valita itselleen parhaiten sopivin nopeus. Oman erikoisnopeuden on mahdollista valita valitsemalla <i>muu</i>.</p>
<h4>Muut rajoitukset</h4>
<p>
The <i>maximum rate</i> is a pool of bytes used to fulfill requests during
short periods of traffic higher than your specified <i>average rate</i>, but
still maintains the average over a long period. A low average rate but a high
maximum rate enforces a long-term average while still allowing more traffic
during peak times if the average hasn't been reached lately. Jos kerkimääräinennopeus on sama kuin <i>enimmäisnopeus</i> Tor ei ylitä määriteltyä nopeutta. <i>Enimmäisnopeutesi</i> täytyy olla yhtä suuri tai suurempi kuin <i>keskimääräinen nopeus</i>.</p>
<p><i>Keskimääräinennopeus</i> on suurin pitkäaikainenkeskimääräinen sallittu nopeus (kilotavua sekunnissa). Esimerkiksi on kannattavaa asettaa 2 megabittiä sekunnissa (2048 kt/s) tai 50 kilotavua sekunnissa (tyypillinen laajakaistayhteyden nopeus). Tor tarvitsee vähintään 20 kilotavua sekunnissa toimiakseen reitittimenä.

</p>
<p>
Tärkeää on huomioida, että Tor laskee liikkuvan tiedon <b>tavuina</b> eikä bitteinä. Myös, Tor rajottaa vain tulevaa liikennettä lähettävän sijasta. Esimerkiksi, jos oma reititin välittää listaa Tor-reititin silloin lähettää enemmän tietoa kuin vastaanottaa. Jos tämä rasittaa liikaa yhteyttä, niin kannattaa poistaa rasti <i>Välitä Tor-reititinlistaa</i> kohdasta.
</p>

<a name="exitpolicy"/>
<h3>Poistumiskäytännöt</h3>
<p>
Poistumiskäytännöillä määritellään millaista liikennettä sallitaan poistuvan oman Tor-reitittimen kautta. Tor käyttää oletuksena poistumiskäytäntölistaa, joka rajoittaa erilaisten palvelujen käyttöä kuten sähköpostia, estääkseen spammin tekoa ja oletus tiedostonjakoportteja estääksen hyväksikäyttämättä Tor-verkkoa.
</p>

<p>
Jokainen vaihtoehto ilmaisee tietynlaista palvelua, jota voi sallia Tor-verkon kautta kulkemaan palvelimesi kautta. Jos poistaa rastin jonkin vierestä, Tor-ohjelma ei salli sen kaltaista liikennettä reitittimesi kautta ja jos on rastitettu <i>Monenlaiset muut palvelut</i>, Tor-ohjelma sallii muunlaisen liikenteen poistuvan reitittimesi kautta kuin edellä mainitut vaihtoehdot. 
</p>

<p>
Alla olevassa listassa esitetään jokaisen rastitettavan poistumiskäytännön. <b>Kuvaus</b>-sarake kertoo millaisia palveluita Tor-käyttäjät voivat käyttää reitittimesi kautta, jos sen laatikko on rastitettu.
</p>

<table border="1">
<tr>
  <td><b>Toiminto</b></td>
  <td><b>Portit</b></td>
  <td><b>Kuvaus</b></td>
</tr>
<tr>
  <td>Verkkosivustot</td>
  <td valign="middle">80</td>
  <td>Normaalien suojaamattomien sivujen selaamista</td>
</tr>
<tr>
  <td>Suojatut sivustot (SSL)</td>
  <td valign="middle">443</td>
  <td>Suojattujen sivujen selaamista</td>
</tr>
<tr>
  <td>Sähköpostin vastaanotto (POP, IMAP)</td>
  <td valign="middle">110, 143, 993, 995</td>
  <td>Sähköpostiviestien lataamista (lähettämistä ei sallita)</td>
</tr>
<tr>
  <td>Pikaviestintä (IM)</td>
  <td valign="middle">703, 1863, 5050, 5190, 5222, 5223, 8300, 8888</td>
  <td>Pikaviestintäohjelmien käyttämistä kuten esim. MSN Messenger, AIM, ICQ ja Jabber</td>
</tr>
<tr>
  <td>Internet Relay Chat (IRC)</td>
  <td valign="middle">6660-6669, 6697</td>
  <td>Keskustelemista IRC-käyttäjien ja -palvelimien kanssa</td>
</tr>
<tr>
  <td>Monenlaiset muut palvelut</td>
  <td valign="middle">*</td>
  <td>Muut ohjelmat, joita edelliset toiminnot eivät kata</td>
</tr>
</table>

<p>Jos ei halua sallia muiden Tor-käytäjien muodostaa yhteyksiä Tor-verkon ulkopuolelle oman reitittimen kautta, niin poista rasti jokaisesta ruudusta. Vaikka rastit on poistettu jokaisesta kohdasta, niin reitittimesi on hyödyllinen Tor-Verkolle. Reitittimesi sallii Tor-käyttäjien muodostaa yhteyksiä Tor-verkkoon ja välittää tietoa Tor-reitittimien välillä.
</p>

<p>
Kun käynnistää siltareitittimen, <i>Poistumiskäytännöt</i>-välilehti muuttuu harmaaksi, koska siltareitittimet eivät salli poistumisyhteyksiä. Siltareitittimiä käytetään vain, että niiden avulla Tor-käyttäjät pääsevät Tor-verkkoon.
</p>


<a name="upnp"/>
<h3>Port Forwarding</h3>
<p>
Many home users connect to the Internet via a <i>router</i>, which allows
multiple computers on a local network to share the same Internet connection.
Some users may also be behind a <i>firewall</i> that blocks incoming
connections to your computer from other computers on the Internet.  If you
want to run a Tor relay, however, other Tor clients and relays must be able to
connect to your relay through your home router or firewall. 
</p>

<p>
To make your relay publicly accessible, your router or firewall needs to know
which ports to allow through to your computer by setting up what is known as
<i>port forwarding</i>. Port forwarding configures your router or firewall to
"forward" all connections to certain ports on your router or firewall to local
ports on your computer.
</p>

<p>
If you check the box labeled <i>Attempt to automatically configure port
forwarding</i>, Vidalia will attempt to automatically set up port forwarding
on your local network connection so that other Tor clients can connect to your
relay. Not all routers support automatic port forwarding, though. You can use
the <i>Test</i> button next to the checkbox to find out if Vidalia is able to
automatically set up port forwarding for you.
</p>

<p>
If the <i>Test</i> button finds that Vidalia is unable to set up port
forwarding for you, you may need to enable this feature on your router or set
up port forwarding manually. Some network devices have a feature called
<i>Universal Plug-and-Play</i> (UPnP). If you can access your router's
administrative interface, you should look for an option to enable UPnP. The
administrative interface for most routers can be accessed by opening <a
href="http://192.168.0.1/">http://192.168.0.1</a> or <a
href="http://192.168.1.1/">http://192.168.1.1</a> in your Web browser. You
should consult your router's instruction manual for more information.
</p>

<p>
If you need to set up port forwarding manually, the website <a
href="http://www.portforward.com/english/routers/port_forwarding/routerindex.htm">
portforward.com</a> has instructions for how to set up port forwarding for
many types of routers and firewalls. At a minimum, you will need to forward
your <i>Relay Port</i>, which defaults to port 443 on Windows and 9001 on all
other operating systems. If you also checked the checkbox labeled <i>Mirror
the relay directory</i>, then you will also need to forward your <i>Directory
Port</i>. The <i>Directory Port</i> is set to port 9030 by default on all
operating systems.
</p>

</body>
</html>

